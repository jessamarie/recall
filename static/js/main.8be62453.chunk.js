(this.webpackJsonprecall=this.webpackJsonprecall||[]).push([[0],{25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(19),i=n.n(s),a=(n(25),n(4)),r=n(5),o=n(1),l=n(7),h=n(6),u=(n(26),n(27),n(28),n(0)),d=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).onClick=e.onClick.bind(Object(o.a)(e)),e}return Object(r.a)(n,[{key:"ListItems",value:function(){var e=this;return this.props.topics&&this.props.topics.length>0?this.props.topics.map((function(t,n){return Object(u.jsx)("li",{className:e.props.selectedIndex===n?"selected":"",onClick:function(c){return e.onClick(c,t.id,n)},children:t.name},n)})):null}},{key:"onClick",value:function(e,t,n){e.preventDefault(),this.props.onTopicSelect(e,t,n),this.props.onTopicSubmit(e)}},{key:"render",value:function(){var e=this.ListItems(),t=e?Object(u.jsxs)("ul",{children:[" ",e," "]}):null;return Object(u.jsxs)("form",{className:"TopicList",onSubmit:this.props.onTopicSubmit,children:[Object(u.jsx)("div",{className:"input-wrapper",children:Object(u.jsx)("input",{list:"topics",onChange:this.props.onInputChange,onKeyDown:this.props.onListTraversal,placeholder:"Enter a topic (e.g. Web)"})}),Object(u.jsx)("div",{className:"list-wrapper",children:t})]})}}]),n}(c.Component),p=(n(30),n(20)),v=n.n(p),j=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).state={topics:[],matchingTopics:[],selectedID:0,selectedIndex:-1},e.handleInputChange=e.handleInputChange.bind(Object(o.a)(e)),e.handleTopicSubmit=e.handleTopicSubmit.bind(Object(o.a)(e)),e.handleTopicSelect=e.handleTopicSelect.bind(Object(o.a)(e)),e.handleListTraversal=e.handleListTraversal.bind(Object(o.a)(e)),e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;v.a.get("https://recall-api.onrender.com/api/topics").then((function(t){e.setState({topics:t.data})})).catch((function(e){console.log(e)}))}},{key:"findMatchingTopics",value:function(e){var t=[];return""!==e&&(t=this.state.topics.filter((function(t){return t.name.toLowerCase().startsWith(e.toLowerCase())}))),t}},{key:"handleInputChange",value:function(e){var t=e.target.value,n=this.findMatchingTopics(t);this.setState({matchingTopics:n,selectedID:0,selectedIndex:-1})}},{key:"matchingTopicsExist",value:function(){return!!(this.state.matchingTopics&&this.state.matchingTopics.length>0)}},{key:"handleTopicSubmit",value:function(e){e.preventDefault(),this.state.selectedIndex<0||this.state.selectedIndex>this.state.matchingTopics.length||(this.props.setTopic(this.state.matchingTopics[this.state.selectedIndex]),this.setState({selectedID:0,selectedIndex:-1}))}},{key:"handleTopicSelect",value:function(e,t,n){this.setState({selectedID:t,selectedIndex:n})}},{key:"moveSelectionUp",value:function(){var e=this.state.selectedIndex-1;if(!(e<0)){var t=this.state.matchingTopics[e].id;this.setState({selectedIndex:e,selectedID:t})}}},{key:"moveSelectionDown",value:function(){var e=this.state.selectedIndex+1;if(!(e>this.state.matchingTopics.length-1)){var t=this.state.matchingTopics[e].id;this.setState({selectedIndex:e,selectedID:t})}}},{key:"handleListTraversal",value:function(e){this.matchingTopicsExist()&&(38===e.keyCode?this.moveSelectionUp():40===e.keyCode&&this.moveSelectionDown())}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"TopicPickerContainer",children:Object(u.jsx)(d,{topics:this.state.matchingTopics,selectedIndex:this.state.selectedIndex,onInputChange:this.handleInputChange,onTopicSubmit:this.handleTopicSubmit,onTopicSelect:this.handleTopicSelect,onListTraversal:this.handleListTraversal})})}}]),n}(c.Component),b=n(10),f=n(8),m=n.n(f),x=(n(52),n(53),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"Sentence",value:function(){var e=this;return this.props.sentence.map((function(t,n){if(t.extracted){var c={width:"".concat(2.3*t.word.length,"vmax")},s="";return!0===t.correct?s="correct":!1===t.correct&&(s="incorrect"),Object(u.jsx)("input",{className:s,style:c,onChange:function(t){return e.props.onAnswerChange(t,n)},value:t.attempt,disabled:t.correct},t.key)}return Object(u.jsx)("span",{children:t.word},t.key)}))}},{key:"render",value:function(){var e=this.Sentence();return Object(u.jsx)("div",{className:"Sentence",children:Object(u.jsxs)("p",{children:[e,"."]})})}}]),n}(c.Component)),g=["a","the","an","to","is","are","that","of","like","as","this","also","from","into","can","for","or","and","on","with","onto","over","our","my","your","way","how","what","when","where","why","who","type","kind","just","was","be","get","getting","in","gives","protects","against","no","called","number","again","by","has","if","made","make","occur","at","not","using","use","work","works","allows","us","written"],O=0,k=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var c;Object(a.a)(this,n);var s=(c=t.call(this,e)).prepSentences();return c.state={extractedSentences:s,currentSentence:s[0],currentIndex:0},c.handleAnswerChange=c.handleAnswerChange.bind(Object(o.a)(c)),c.next=c.next.bind(Object(o.a)(c)),c.reveal=c.reveal.bind(Object(o.a)(c)),c.previous=c.previous.bind(Object(o.a)(c)),c.restart=c.restart.bind(Object(o.a)(c)),c.checkAnswer=c.checkAnswer.bind(Object(o.a)(c)),c}return Object(r.a)(n,[{key:"prepSentences",value:function(){var e=this;return this.props.topic.sentences.map((function(t){var n=t.toLowerCase().trim().match(/[^_\W]+/g).join(" ").split(" "),c=e.getWordsToExtract(n,n.length);return e.extractWordsFromSentences(n,c)}))}},{key:"extractWordsFromSentences",value:function(e,t){return e.map((function(e){return O+=1,t.includes(e)?{key:O,word:e,attempt:"",extracted:!0,correct:null}:{key:O,word:e,extracted:!1}}))}},{key:"getWordsToExtract",value:function(e,t){var n=[],c=this.getWordToExtract(e,n);return n.push(c),t>5&&(c=this.getWordToExtract(e,n),n.push(c)),n}},{key:"getWordToExtract",value:function(e,t){var n=[];return n.push.apply(n,g),n.push.apply(n,Object(b.a)(t)),e=this.getExtractableWords(e,n),this.getRandomWordByIndex(e,e.length)}},{key:"getExtractableWords",value:function(e,t){var n=new Set(e),c=new Set(t),s=new Set(Object(b.a)(n).filter((function(e){return!c.has(e)})));return Array.from(s)}},{key:"getRandomWordByIndex",value:function(e,t){return e[Math.floor(Math.random()*t)]}},{key:"handleAnswerChange",value:function(e,t){var n=e.target.value,c=this.state.currentSentence.slice(),s=this.state.extractedSentences.slice();c[t].attempt=n,n===c[t].word&&(c[t].correct=!0),s[this.state.currentIndex]=c,this.setState({currentSentence:c,extractedSentences:s})}},{key:"next",value:function(){if(this.state.currentIndex<this.state.extractedSentences.length-1){var e=this.state.currentIndex+1;this.setState({currentIndex:e,currentSentence:this.state.extractedSentences[e]})}}},{key:"previous",value:function(){if(this.state.currentIndex>0){var e=this.state.currentIndex-1;this.setState({currentIndex:e,currentSentence:this.state.extractedSentences[e]})}}},{key:"restart",value:function(){var e=this.prepSentences();this.setState({extractedSentences:e,currentIndex:0,currentSentence:e[0]})}},{key:"reveal",value:function(){var e=this.state.currentSentence.map((function(e){return e.correct=!0,e.attempt=e.word,e}));this.setState({currentSentence:e})}},{key:"checkAnswer",value:function(e){var t=this.state.currentSentence.map((function(e){return e.attempt!==e.word&&(e.correct=!1),e}));this.setState({currentSentence:t})}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"SentencesContainer",children:[Object(u.jsxs)("div",{className:"options top",children:[Object(u.jsx)("button",{title:"pick new topic",className:"back",onClick:this.props.resetTopic,children:Object(u.jsx)(m.a,{name:"chevron-left"})}),Object(u.jsx)("h2",{className:"topic",children:this.props.topic.name}),Object(u.jsx)("button",{className:"empty",children:"."})]}),Object(u.jsx)(x,{onAnswerChange:this.handleAnswerChange,sentence:this.state.currentSentence,currentIndex:this.state.currentIndex}),Object(u.jsxs)("div",{className:"options bottom",children:[Object(u.jsx)("button",{className:"left",title:"previous sentence",onClick:this.previous,children:Object(u.jsx)(m.a,{name:"arrow-left"})}),Object(u.jsx)("button",{className:"restart",title:"restart sentence set",onClick:this.restart,children:Object(u.jsx)(m.a,{name:"repeat"})}),Object(u.jsx)("button",{className:"check",title:"check answer",onClick:this.checkAnswer,children:Object(u.jsx)(m.a,{name:"check-square"})}),Object(u.jsx)("button",{className:"help",title:"reveal answer",onClick:this.reveal,children:Object(u.jsx)(m.a,{name:"question-circle"})}),Object(u.jsx)("button",{className:"right",title:"next sentence",onClick:this.next,children:Object(u.jsx)(m.a,{name:"arrow-right"})})]})]})}}]),n}(c.Component),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).state={selectedTopic:{}},e.setTopic=e.setTopic.bind(Object(o.a)(e)),e.resetTopic=e.resetTopic.bind(Object(o.a)(e)),e}return Object(r.a)(n,[{key:"setTopic",value:function(e){this.setState({selectedTopic:e})}},{key:"resetTopic",value:function(e){this.setState({selectedTopic:{}})}},{key:"isEmpty",value:function(e){return 0===Object.keys(e).length&&e.constructor===Object}},{key:"Container",value:function(){return this.isEmpty(this.state.selectedTopic)?Object(u.jsx)(j,{setTopic:this.setTopic}):Object(u.jsx)(k,{resetTopic:this.resetTopic,topic:this.state.selectedTopic})}},{key:"render",value:function(){var e=this.Container();return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{children:Object(u.jsx)("h1",{children:"Recall"})}),Object(u.jsx)("main",{children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"flashcard",children:e})})}),Object(u.jsx)("footer",{children:"Made with \u2665 by Jessa"})]})}}]),n}(c.Component),S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(u.jsx)(w,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/recall",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/recall","/service-worker.js");S?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):y(e)}))}}()}},[[54,1,2]]]);
//# sourceMappingURL=main.8be62453.chunk.js.map